<!DOCTYPE html>
<html ng-app="MyApp">
    <head>
        <!-- GOOGLE FONT -->
        <link href="https://fonts.googleapis.com/css?family=Aleo&display=swap" rel="stylesheet">
        <!-- ANGULAR -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js"></script>
        <meta charset="utf-8">
        <!-- CSS -->
        <link rel="stylesheet" href="./css/main.css">
        <!-- SPECTRE -->
        <!-- <link rel="stylesheet" href="spectre.min.css"> -->
        <title>PlantHub</title>
    </head>
    <body ng-controller = "AppController as ctrl">
        <nav>
            <div>
                <h1>PlantHub</h1>
                <img src="https://img.icons8.com/ios-filled/100/000000/potted-plant.png">
            </div>
            <div ng-hide="ctrl.loggedInUsername">
	            <!-- LOGIN -->
	            <h3 ng-click="login={'display':'block'}" class="actions">LOGIN</h3>
	            <!-- login modal -->
				<div id="loginModal" class="modal" ng-style="login">
	                <div class="modal-content">
					    <div class="modal-body">
                            <h3>LOGIN</h3>
							<form ng-submit="ctrl.logIn()">
			                    <input type="text" ng-model="ctrl.username" placeholder="username">
			                    <input type="password" ng-model="ctrl.password" placeholder="password">
			                    <input type="submit" value="LOG IN" ng-click="login={}" class="submit">
			                </form>
                        </div>
                        <div class="modal-footer">
							<button ng-click="login={}" class="close">X</button>
						</div>
                    </div>
                </div>
	            <!-- CREATE USER -->
                <h3 ng-click="create={'display':'block'}" class="actions">
                    CREATE ACCOUNT
                </h3>
                <div id="createModal" class="modal" ng-style="create">
                    <div class="modal-content">
                        <div class="modal-body">
                            <h3>CREATE ACCOUNT</h3>
							<form ng-submit="ctrl.createUser(); ctrl.getPlants()">
				                <input type="text" ng-model="ctrl.newUsername" placeholder="username">
				                <input type="text" ng-model="ctrl.newPassword" placeholder="password">
				                <input type="submit" class="submit" value="SIGN UP" ng-click="create={}">
				            </form>
						</div>
                        <div class="modal-footer">
                        	<button ng-click="create={}" class="close">X</button>
                        </div>
                    </div>
				</div>
	        </div>
	            <!-- LOGOUT -->
			<div ng-show="ctrl.loggedInUsername">
                <h3 class="greeting">HELLO, {{ctrl.loggedInUsername}}!</h3>
                <h3 ng-click="ctrl.logOut()" class="actions">LOG OUT</h3>
			</div>
        </nav>
        <div class="main">
            <div class="aside">
                <h3 ng-click="ctrl.showNursery()" id="yourNursery">Your Nursery</h3>
                <h3>Search Plants</h3>
            </div>
            <div class="show">
                <!-- BEFORE LOGIN -->
                <div class="" ng-hide="ctrl.loggedInUsername">
                    <h2>CREATE AN ACCOUNT OR LOG INTO TO VIEW</h2>
                </div>
                <!-- AFTER LOGIN -->
                <div id="main-display" ng-show="ctrl.loggedInUsername">
                    <h2>Your Nursery</h2>
                    <h4 ng-click="addPlant={'display':'block'}" class="actions">ADD A PLANT</h4>
                    <!-- START ADD PLANT MODAL -->
                    <div id="addPlantModal" class="modal" ng-style="addPlant">
                        <div class="modal-content">
                            <div class="modal-body">
                                <h3>ADD A PLANT</h3>
    							<form ng-submit="ctrl.addPlant()">
    				                <input type="text" ng-model="ctrl.nickname" placeholder="Nickname">
    				                <input type="text" ng-model="ctrl.species" placeholder="Scientific Name">
                                    <input type="text" ng-model="ctrl.water" placeholder="Watering Directions">
                                    <input type="text" ng-model="ctrl.sunlight" placeholder="Sunlight Directions">
                                    <input type="text" ng-model="ctrl.image" placeholder="Plant Image Link">
                                    <!-- <label ng-model="ctrl.image" class="image-upload-container btn btn-bwm">
                                      <span>Select Image</span>
                                      <input #imageInput
                                             type="file"
                                             accept="image/*"
                                             (change)="processFile(imageInput)">
                                    </label> -->
    				                <input type="submit" class="submit" value="ADD A PLANT" ng-click="addPlant={}">
    				            </form>
    						</div>
                            <div class="modal-footer">
                            	<button ng-click="addPlant={}" class="close">X</button>
                            </div>
                        </div>
    				</div>
                    <!-- END ADD PLANT MODAL -->
                    <div class="showPlant">
                        <!-- <img src={{ctrl.plants[5].image}} alt=""> -->
                        <div ng-repeat="x in ctrl.plants">
                            <h4>{{x.nickname}}</h4>
                            <img src={{x.image}} alt="">
                            <h5>{{x.species}}</h5>
                            <p>{{x.water}}</p>
                            <p>{{x.sunlight}}</p>
                            <h1 ng-click="editPlant={'display':'block'}">Edit</h1>
                            <!-- edit modal start -->
                            <div id="editPlantModal" class="modal" ng-style="editPlant">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <h3>EDIT</h3>
            							<form ng-submit="ctrl.editPlant()">
            				                <input type="text" ng-model="ctrl.editedNickname" placeholder="Nickname">
            				                <input type="text" ng-model="ctrl.editedSpecies" placeholder="Scientific Name">
                                            <input type="text" ng-model="ctrl.editedWater" placeholder="Watering Directions">
                                            <input type="text" ng-model="ctrl.editedSunlight" placeholder="Sunlight Directions">
                                            <input type="text" ng-model="ctrl.editedImage" placeholder="Plant Image Link">
            				                <input type="submit" class="submit" value="EDIT" ng-click="editPlant={}">
                                            <input type="button" class="button" value="DELETE" ng-click="editPlant={}; deletePlant={'display':'block'}">
            				            </form>
            						</div>
                                    <div class="modal-footer">
                                    	<button ng-click="editPlant={}" class="close">X</button>
                                    </div>
                                </div>
            				</div>
                            <!-- edit modal end -->
                            <!-- DELETE MODAL START -->
                            <div id="deletePlantModal" class="modal" ng-style="deletePlant">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <form ng-submit="ctrl.deletePlant()">
                                        <h3>ARE YOU SURE YOU WANT TO DELETE THIS PLANT?</h3>
                                            <input type="submit" class="button" value="YES" ng-click="deletePlant={}">
                                            <input type="button" class="button" value="NO" ng-click="deletePlant={}; ctrl.deletePlant(plants)">
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button ng-click="deletePlant={}" class="close">X</button>
                                    </div>
                                </div>
                            </div>
                            <!-- DELETE MODAL END -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            <a href="https://icons8.com/icon/19189/potted-plant">Potted Plant icon by Icons8</a>
        </div>
        <script src="app.js" charset="utf-8"></script>
    </body>
</html>
